<p id="notice"><%= notice %></p>

<p>
  <strong>Content:</strong>
  <%= @entry.content %>
</p>

<p class="control">
  <%= link_to "#{@entry.cheering_users.count} cheers",
  cheer_goal_entry_path(@goal, @entry), method: :post %>&nbsp;

  <% if authorized_user?(@entry) %>
    <%= link_to 'Edit', edit_goal_entry_path(@goal, @entry) %>&nbsp;
    <%= link_to 'Destroy', [@goal, @entry], method: :delete,
    data: { confirm: 'Are you sure you want to delete this entry?' } %>
  <% end %>
</p>

<ul>
  <% @entry.cheering_users.each do |user| %>
    <li><%= link_to user.username, user %> cheered this.</li>
  <% end %>
</ul>

<%= link_to 'Goal', goal_path(@goal) %>

<%= render partial: 'comments/form', goal: @goal %>

<div class="comments">
<% @entry.comments.each do |comment| %>
    <p><strong><%= link_to comment.user.username, comment.user %>:
    </strong> <%= comment.body %><br>

    <% if authorized_user?(comment) %>
      <%= link_to 'Edit',
      edit_goal_entry_comment_path(@goal, @entry, comment) %>&nbsp;
    <% end %>

    <% if authorized_user?(@entry) %>
      <%= link_to 'Destroy', [@goal, @entry, comment], method: :delete,
      data: { confirm: 'Are you sure you want to delete this comment?' } %>
    <% end %>

    </p>
<% end %>
</div>
